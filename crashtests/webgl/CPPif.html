<html>
<head>
    <title>WebGL shader testcase</title>
    <script type="text/javascript">
        var vs ='attribute vec3 pos;\n\n\
        void main(void) {\n\
        gl_Position = vec4(pos, 2);\n\
        }';
        var fs = '// Shader Type: Fragment\n#ifdef GL_APPLE_client_storage\n#line 16384\n\n#else \n#ifndef GL_EXT_bgra\n#if GL_ARB_framebuffer_object\n#pragma STDGL\n\n#else #if GL_EXT_framebuffer_object\n#ifdef GL_EXT_bgra\n#if __VERSION__ %= __VERSION__\n#if GL_ARB_texture_rectangle\n#line 32767 0.2\n\n#else #ifdef GL_APPLE_client_storage\n#pragma debug (off)\n\n#else \n#define GL_FRAGMENT_PRECISION_HIGH \n\n#endif\n\n#endif\n\n#endif\n\n#else \n#ifndef GL_EXT_bgra\n#define GL_FRAGMENT_PRECISION_HIGH \n\n#else #ifndef GL_APPLE_client_storage\n#define a 1\n\n#else \n#ifdef GL_APPLE_client_storage\n#ifndef GL_ARB_texture_rectangle\n#if GL_ARB_texture_rectangle\n#if GL_EXT_framebuffer_object\n#extension GL_ARB_texture_non_power_of_two : disable\n\n#else \n#ifndef GL_ARB_texture_rectangle\n#define GL_FRAGMENT_PRECISION_HIGH \n\n#else \n#ifndef GL_ARB_texture_rectangle\n#defined (a)\n\n#else \n#ifdef GL_APPLE_client_storage\n#version 140 compatiblity\n\n#else #line 0.2\n\n#endif\n\n#endif\n\n#endif\n\n#endif\n\n#else \n#defined (a)\n\n#endif\n\n#else \n#ifdef GL_EXT_bgra\n#ifdef GL_EXT_bgra\n#extension all : enable\n\n#else #line 32 65534\n\n#endif\n\n#else \n#ifndef GL_ARB_texture_non_power_of_two\n#defined (a)\n\n#else #if GL_EXT_framebuffer_object\n##ifdef GL_EXT_bgra\n##if GL_ARB_framebuffer_object\n#if GL_EXT_framebuffer_object\n#ifdef GL_EXT_framebuffer_object\n#pragma debug (off)\n\n#else \n#pragma STDGL invariant(all)\n\n#endif\n\n#else \n#line 0 0.2\n\n#endif\n\n#else #ifdef GL_ARB_texture_non_power_of_two\n#define GL_FRAGMENT_PRECISION_HIGH \n\n#else #line 10000000 0.2\n\n#endif\n\n#endif\n \n\n#else \n#version 150 \n\n#endif\n \n#else #extension all : warn\n\n#endif\n\n#endif\n\n#endif\n\n#endif\n\n#else \n#line 4291051535\n\n#endif\n\n#endif\n\n#endif\n\n#endif\n\n#else #ifndef GL_ARB_framebuffer_object\n#if GL_ARB_texture_non_power_of_two\n#if GL_ARB_texture_non_power_of_two\n#if GL_ARB_texture_non_power_of_two\n#pragma STDGL\n\n#else #if GL_ARB_framebuffer_object\n#line 32766\n\n#else \n#ifdef GL_ARB_texture_rectangle\n#ifndef GL_APPLE_client_storage\n;# extension\n\n#else \n#defined (a)\n\n#endif\n\n#else \n#pragma optimize (on)\n\n#endif\n\n#endif\n\n#endif\n\n#else \n#ifndef GL_EXT_framebuffer_object\n#define a 1\n\n#else #ifdef GL_EXT_bgra\n#ifndef GL_ARB_texture_non_power_of_two\n#line 32 32766\n\n#else \n#if __VERSION__ <<= __VERSION__\n#ifndef GL_EXT_bgra\n#define a 1\n\n#else \n#if __VERSION__ = __VERSION__\n#version __VERSION__ compatiblity\n\n#endif\n\n#endif\n\n#endif\n\n#endif\n\n#else \n##ifndef GL_ARB_framebuffer_object\n#defined (a)\n\n#else #if __VERSION__ |= __VERSION__\n#ifndef GL_EXT_framebuffer_object\n#ifndef GL_EXT_bgra\n#if GL_EXT_framebuffer_object\n#define GL_FRAGMENT_PRECISION_HIGH 1\n\n#else \n#pragma STDGL\n\n#endif\n\n#else #version 140 \n\n#endif\n\n#else #if GL_EXT_bgra\n#ifdef GL_APPLE_client_storage\n#version 0\n1 \n\n#else \n#ifndef GL_ARB_framebuffer_object\n#ifdef GL_ARB_framebuffer_object\n#if GL_APPLE_client_storage\n#if GL_ARB_framebuffer_object\n#extension GL_ARB_texture_non_power_of_two : disable\n\n#else #line 8192\n\n#endif\n\n#else \n#ifdef GL_ARB_texture_rectangle\n#line 4294967294 4294967295\n\n#else \n#ifndef GL_EXT_bgra\n#defined (a)\n\n#else \n#ifndef GL_APPLE_client_storage\n#line 4294967294 4294967295\n\n#else #ifdef GL_ARB_texture_rectangle\n##ifdef GL_EXT_framebuffer_object\n#if GL_ARB_texture_rectangle\n#pragma debug (off)\n\n#else \n;# ifdef;\n\n#endif\n\n#else \n#pragma STDGL\n\n#endif\n \n#else \n#if __VERSION__ &= __VERSION__\n#ifdef GL_EXT_framebuffer_object\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#\tifndef \n#else \n#ifndef GL_EXT_bgra\n#;# else\t \n\n#else \n#pragma optimize (on)\n\n#endif\n\n#endif\n\n#endif\n\n#endif\n\n#endif\n\n#endif\n\n#endif\n\n#endif\n\n#else \n#if GL_EXT_bgra\n#ifndef GL_ARB_texture_non_power_of_two\n#extension all : disable\n\n#else \n#ifndef GL_ARB_texture_rectangle\n#ifndef GL_ARB_texture_non_power_of_two\n#version 110 \n\n#else \n#define GL_FRAGMENT_PRECISION_HIGH \n\n#endif\n\n#else #line 32768 32767\n\n#endif\n\n#endif\n\n#else \n#define GL_FRAGMENT_PRECISION_HIGH \n\n#endif\n\n#endif\n\n#else \n#extension all : enable\n\n#endif\n\n#endif\n\n#else \n#ifdef GL_EXT_framebuffer_object\n#define GL_FRAGMENT_PRECISION_HIGH \n\n#else ##if GL_APPLE_client_storage\n#if GL_APPLE_client_storage\n#ifndef GL_ARB_texture_rectangle\n#line 4294967295 32767\n\n#else #define a 1\n\n#endif\n\n#else \n#ifdef GL_EXT_bgra\n#ifdef GL_EXT_bgra\n#define a 1\n\n#else \n#line 4294967294\n\n#endif\n\n#else \n;# version \n#endif\n\n#endif\n\n#else \n#ifdef GL_APPLE_client_storage\n#if GL_EXT_framebuffer_object\n#if GL_EXT_framebuffer_object\n#pragma optimize (off)\n\n#else \n#extension GL_EXT_framebuffer_object : disable\n\n#endif\n\n#else #ifdef GL_ARB_framebuffer_object\n#line 2147483647\n\n#else \n#pragma STDGL invariant(all)\n\n#endif\n\n#endif\n\n#else \n#define a 1\n\n#endif\n\n#endif\n \n#endif\n\n#endif\n\n#endif\n\n#endif\n\n#endif\n \n#endif\n\n#endif\n\n#endif\n\n#else #line 4\n\n#endif\n\n#else #if GL_ARB_texture_non_power_of_two\n#ifdef GL_ARB_texture_rectangle\n#define GL_FRAGMENT_PRECISION_HIGH \n\n#else \n#extension all : disable\n\n#endif\n\n#else #line 32768\n\n#endif\n\n#endif\n\n#endif\n\n#endif\n\n#else \n#define GL_FRAGMENT_PRECISION_HIGH \n\n#endif\n\n#endif\nfloat v0;\nconst bvec2 v1;\nvoid main() {  }\n';

        function initWebGL(id, vshader, fshader) {
            var gl = document.getElementById(id).getContext("experimental-webgl");
            var program = gl.createProgram();
            var add = function(type, source) {
                    var shader = gl.createShader(type);
                    gl.shaderSource(shader, source);
                    gl.compileShader(shader);
                    gl.attachShader(program, shader);
            };
            add(gl.VERTEX_SHADER, vshader);
            add(gl.FRAGMENT_SHADER, fshader);
            gl.linkProgram(program);
            gl.useProgram(program);
            return { gl: gl, program: program };
        }
        function boom() {
            initWebGL("canvas", vs, fs);
        }
    </script>
</head>
<body onload="boom()">
    <canvas id="canvas"></canvas>
</body>
</html>